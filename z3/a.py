from z3 import *
s = Solver()
x00 = Int("x00"); s.add(And(x00 >= 1, x00 <= 9))
x01 = Int("x01"); s.add(And(x01 >= 1, x01 <= 9))
x02 = Int("x02"); s.add(And(x02 >= 1, x02 <= 9))
x10 = Int("x10"); s.add(And(x10 >= 1, x10 <= 9))
x11 = Int("x11"); s.add(And(x11 >= 1, x11 <= 9))
x12 = Int("x12"); s.add(And(x12 >= 1, x12 <= 9))
x20 = Int("x20"); s.add(And(x20 >= 1, x20 <= 9))
x21 = Int("x21"); s.add(And(x21 >= 1, x21 <= 9))
x22 = Int("x22"); s.add(And(x22 >= 1, x22 <= 9))
s.add(x00 != x01); s.add(x00 != x02); s.add(x00 != x10); s.add(x00 != x11); s.add(x00 != x12); s.add(x00 != x20); s.add(x00 != x21); s.add(x00 != x22); s.add(x01 != x02); s.add(x01 != x10); s.add(x01 != x11); s.add(x01 != x12); s.add(x01 != x20); s.add(x01 != x21); s.add(x01 != x22); s.add(x02 != x10); s.add(x02 != x11); s.add(x02 != x12); s.add(x02 != x20); s.add(x02 != x21); s.add(x02 != x22); s.add(x10 != x11); s.add(x10 != x12); s.add(x10 != x20); s.add(x10 != x21); s.add(x10 != x22); s.add(x11 != x12); s.add(x11 != x20); s.add(x11 != x21); s.add(x11 != x22); s.add(x12 != x20); s.add(x12 != x21); s.add(x12 != x22); s.add(x20 != x21); s.add(x20 != x22); s.add(x21 != x22)
sum = Int("sum")
s.add(sum == x00 + x01 + x02)
s.add(sum == x10 + x11 + x12)
s.add(sum == x20 + x21 + x22)
s.add(sum == x02 + x12 + x22)
s.add(sum == x02 + x12 + x22)
s.add(sum == x02 + x12 + x22)
s.add(sum == x00 + x11 + x22)
s.add(sum == x02 + x11 + x20)
print(s.check())
print(s.model())
